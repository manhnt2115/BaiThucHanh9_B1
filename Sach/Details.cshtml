
@model WebApplication1.Models.SACH
@{
    Layout = "~/Views/Shared/UserLayout.cshtml"; // Đảm bảo đúng đường dẫn layout của bạn
}

<div class="container py-4">
    <h2 class="text-center mb-4">CHI TIẾT SÁCH</h2>
    <div class="row">
        <div class="col-md-4">
            <img src="@Url.Content("~/Content/Hinh/" + Model.AnhBia)"
                 alt="@Model.TenSach"
                 class="img-fluid border rounded shadow-sm" />
        </div>
        <div class="col-md-8">
            <h3 class="mb-3">@Model.TenSach</h3>
            <p class="lead"><strong>Giá bán:</strong> @Model.GiaBan?.ToString("N0") VNĐ</p>
            <p><strong>Mô tả:</strong> @Html.Raw(Model.MoTa)</p>
            <p><strong>Chủ đề:</strong> @ViewBag.TenChuDe</p>
            <p><strong>Nhà xuất bản:</strong> @ViewBag.TenNXB</p>
            <p><strong>Ngày cập nhật:</strong> @Model.NgayCapNhat?.ToString("dd/MM/yyyy")</p>
            <p><strong>Số lượng tồn:</strong> @Model.SoLuongTon</p>
            <p><strong>Sách mới:</strong> @(Model.Moi == true ? "Có" : "Không")</p>

            <h4 class="mt-4">Các tác giả:</h4>
            @if (ViewBag.ListTacGia != null && ViewBag.ListTacGia.Count > 0)
            {
                <ul>
                    @foreach (var tg in ViewBag.ListTacGia)
                    {
                        <li>@tg.TenTacGia</li>
                    }
                </ul>
            }
            else
            {
                <p>Không có thông tin tác giả.</p>
            }

            <button class="btn btn-success btn-lg mt-3">Thêm vào giỏ hàng</button>
        </div>
    </div>

    <h3 class="mt-5 mb-3 text-center">Các sách liên quan khác:</h3>
    @if (ViewBag.SachLienQuan != null && ViewBag.SachLienQuan.Count > 0)
    {
        <div class="row product-group">
            @foreach (var item in ViewBag.SachLienQuan)
            {
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card text-center h-100 shadow-sm">
                        <img src="~/Content/Hinh/@item.AnhBia" class="card-img-top p-3" alt="@item.TenSach" style="max-height: 200px; object-fit: contain;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">@item.TenSach</h5>
                            <p class="card-text">@item.GiaBan?.ToString("N0") VNĐ</p>
                            <div class="mt-auto">
                                <a href="@Url.Action("Details", "Sach", new { id = item.MaSach })" class="btn btn-outline-primary">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-center">Không có sách liên quan nào.</p>
    }
</div>